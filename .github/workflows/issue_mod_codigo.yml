name: 🐞- Modificación de Código (Bugfix)

on:
  workflow_dispatch:
    inputs:
      issue_label:
        description: 'Selecciona la etiqueta de la Issue a procesar'
        required: true
        type: choice
        default: 'Bugfix'
        options:
        - 'Cliente-Nuevo'
        - 'Cliente-Existente' 
        - 'Consulta'
        - 'Mejora'
        # Solo se ejecuta si coincide con esta etiqueta
        - 'Bugfix'
        - 'Nueva-Funcion'

jobs:
  triage_bugfix:
    # Se ejecuta solo si la entrada del usuario es 'Bugfix'
    if: github.event.inputs.issue_label == 'Bugfix'
    
    runs-on: ubuntu-latest
    steps:
      - name: 💬 Simular Reacción - Revisión de Urgencia y Pruebas
        run: |
          echo "========================================================================"
          echo "::error file=PLANIFICACION.md,title=ASIGNACIÓN URGENTE (BUG)::¡ATENCIÓN! Se ha procesado manualmente un Bug que requiere corrección de código."
          echo "::warning title=ACCIÓN REQUERIDA (DEV/QA)::Asignar al **Desarrollador Principal** para revisión inmediata. El equipo de QA debe preparar los casos de prueba para verificar el fix."
          echo "Etiqueta Seleccionada: ${{ github.event.inputs.issue_label }}"
          echo "========================================================================"