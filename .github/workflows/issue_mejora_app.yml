name: 📈 Issue - Mejora a la Aplicación

on:
  issues:
    types: [opened, labeled]

jobs:
  triage_mejora:
    # Se ejecuta solo si la etiqueta 'Mejora' está presente
    if: |
      (github.event_name == 'labeled' && github.event.label.name == 'Mejora') || 
      (github.event_name == 'opened' && contains(github.event.issue.labels.*.name, 'Mejora'))
    
    runs-on: ubuntu-latest
    steps:
      - name: 💬 Simular Reacción - Evaluación de Impacto
        run: |
          echo "========================================================================"
          echo "::notice file=PLANIFICACION.md,title=Asignación (Mejora App)::Se ha recibido una solicitud de Mejora (Issue #${{ github.event.issue.number }})."
          echo "::warning title=ACCIÓN REQUERIDA (ANALISTA)::Realizar una **Evaluación de Impacto** y priorización de la mejora. Asignar al Analista de Negocio (BA)."
          echo "Issue Creado por: ${{ github.event.issue.user.login }}"
          echo "========================================================================"